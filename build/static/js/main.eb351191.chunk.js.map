{"version":3,"sources":["components/Header.js","components/UserPosts.js","components/UserTodos.js","api/index.js","index.js"],"names":["Header","currentUser","setCurrentUser","userList","useState","selectedUser","setSelectedUser","useEffect","className","onSubmit","event","preventDefault","to","activeClassName","onClick","username","onChange","id","target","value","user","find","map","UserPosts","userPosts","title","body","UserTodos","userTodos","completed","style","textDecoration","BASE","a","axios","get","data","userId","App","setUserList","setUserPosts","setUserTodos","getUsers","then","users","catch","error","console","getPostsByUser","posts","getTodosByUser","todos","path","exact","padding","ReactDOM","render","document","getElementById"],"mappings":"gPAgEeA,G,MA3DA,SAAC,GAIT,IAHLC,EAGI,EAHJA,YACAC,EAEI,EAFJA,eACAC,EACI,EADJA,SACI,EACoCC,qBADpC,mBACGC,EADH,KACiBC,EADjB,KAGJC,qBAAU,WACRD,EAAgBH,EAAS,MACxB,CAACA,IAqBJ,OACE,mCACE,oDACA,sBACEK,UAAU,cACVC,SAxBe,SAACC,GACpBA,EAAMC,kBAqBJ,SAIIV,EACI,qCACA,cAAC,IAAD,CAASW,GAAG,SAASC,gBAAgB,UAArC,mBACA,cAAC,IAAD,CAASD,GAAG,SAASC,gBAAgB,UAArC,mBACA,yBAAQC,QAhBK,SAACJ,GACxBJ,EAAgBH,EAAS,IACzBD,EAAe,OAcL,sBAAgDD,EAAYc,eAE5D,qCACA,wBAAQC,SA7BO,SAACN,GAC1B,IAAMO,EAAKP,EAAMQ,OAAOC,MAClBC,EAAOjB,EAASkB,MAAK,SAAAD,GAAI,OAAIA,EAAKH,IAAMA,KAC9CX,EAAgBc,IA0BN,SACEjB,EAASmB,KAAI,SAAAF,GAAI,OACf,wBAAwBD,MAAQC,EAAKH,GAArC,SACIG,EAAKL,UADKK,EAAKH,SAKvB,wBAAQH,QA9BI,SAACJ,GACvBR,EAAeG,IA6BL,8BCnCCkB,G,MAjBG,SAAC,GAGZ,IAFLtB,EAEI,EAFJA,YACAuB,EACI,EADJA,UAEA,OACE,sBAAKhB,UAAU,aAAf,UACE,2CAAeP,EAAYc,YAC1BS,EAAUF,KAAI,gBAAGL,EAAH,EAAGA,GAAIQ,EAAP,EAAOA,MAAOC,EAAd,EAAcA,KAAd,OACb,sBAAgBlB,UAAU,OAA1B,UACE,6BAAMiB,IACN,4BAAKC,MAFIT,WCYJU,G,MAlBG,SAAC,GAGZ,IAFL1B,EAEI,EAFJA,YACA2B,EACI,EADJA,UAEA,OACE,sBAAKpB,UAAU,aAAf,UACE,2CAAeP,EAAYc,YAC1Ba,EAAUN,KAAI,gBAAGL,EAAH,EAAGA,GAAIQ,EAAP,EAAOA,MAAOI,EAAd,EAAcA,UAAd,OACb,qBAAgBrB,UAAU,OAA1B,SACE,oBAAIsB,MAAO,CACTC,eAAgBF,EAAY,eAAiB,QAD/C,SAEKJ,KAHIR,W,0CCZbe,EAAO,4C,4CAEN,8BAAAC,EAAA,+EAEoBC,IAAMC,IAAN,UAAcH,EAAd,WAFpB,uBAEKI,EAFL,EAEKA,KAFL,kBAGIA,GAHJ,qG,kEASA,WAA8BC,GAA9B,iBAAAJ,EAAA,+EAEoBC,IAAMC,IAAN,UAAcH,EAAd,kBAA8BK,EAA9B,WAFpB,uBAEKD,EAFL,EAEKA,KAFL,kBAGIA,GAHJ,qG,kEASA,WAA8BC,GAA9B,iBAAAJ,EAAA,+EAEoBC,IAAMC,IAAN,UAAcH,EAAd,kBAA8BK,EAA9B,WAFpB,uBAEKD,EAFL,EAEKA,KAFL,kBAGIA,GAHJ,qG,sBCAP,IAAME,EAAM,WAAO,IAAD,EACgBlC,mBAAS,IADzB,mBACTD,EADS,KACCoC,EADD,OAEsBnC,mBAAS,MAF/B,mBAETH,EAFS,KAEIC,EAFJ,OAGkBE,mBAAS,IAH3B,mBAGToB,EAHS,KAGEgB,EAHF,OAIkBpC,mBAAS,IAJ3B,mBAITwB,EAJS,KAIEa,EAJF,KAwChB,OAlCAlC,qBAAU,YDxBL,WAAP,gCCyBImC,GACGC,MAAK,SAAAC,GACJL,EAAYK,MAEbC,OAAM,SAAAC,GACLC,QAAQD,MAAMA,QAEjB,IAEHvC,qBAAU,WACR,IAAKN,EAGH,OAFAuC,EAAa,SACbC,EAAa,KD5BZ,SAAP,mCCgCIO,CAAe/C,EAAYgB,IACxB0B,MAAK,SAAAM,GACJT,EAAaS,MAEdJ,OAAM,SAAAC,GACLC,QAAQD,MAAMA,MD5Bf,SAAP,kCC+BII,CAAejD,EAAYgB,IACxB0B,MAAK,SAAAQ,GACJV,EAAaU,MAEdN,OAAM,SAAAC,GACLC,QAAQD,MAAMA,QAEjB,CAAC7C,IAGF,cAAC,IAAD,UACE,sBAAKgB,GAAG,MAAR,UACE,cAAC,EAAD,CACEd,SAAWA,EACXF,YAAcA,EACdC,eAAiBA,IAEjBD,EACI,mCACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOmD,KAAK,SAAZ,SACE,cAAC,EAAD,CACE5B,UAAYA,EACZvB,YAAcA,MAElB,cAAC,IAAD,CAAOmD,KAAK,QAAZ,SACE,cAAC,EAAD,CACExB,UAAYA,EACZ3B,YAAcA,MAElB,cAAC,IAAD,CAAOoD,OAAK,EAACD,KAAK,IAAlB,SACE,qBAAItB,MAAO,CACTwB,QAAS,QADX,sBAEarD,EAAYc,SAFzB,SAIF,cAAC,IAAD,CAAUH,GAAG,WAGf,mCACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOyC,OAAK,EAACD,KAAK,IAAlB,SACE,oBAAItB,MAAO,CACTwB,QAAS,QADX,qCAIF,cAAC,IAAD,CAAU1C,GAAG,iBAS/B2C,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.eb351191.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport './Header.css';\n\nconst Header = ({\n  currentUser,\n  setCurrentUser,\n  userList \n}) => {\n  const [selectedUser, setSelectedUser] = useState();\n\n  useEffect(() => {\n    setSelectedUser(userList[0]);\n  }, [userList]);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n  }\n\n  const handleSelectChange = (event) => {\n    const id = event.target.value;\n    const user = userList.find(user => user.id == id);\n    setSelectedUser(user);\n  }\n\n  const handleUserLogin = (event) => {\n    setCurrentUser(selectedUser);\n  }\n\n  const handleUserLogout = (event) => {\n    setSelectedUser(userList[0]);\n    setCurrentUser(null);\n  }\n\n  return (\n    <header>\n      <h1>Welcome to UserHub</h1>\n      <form \n        className=\"user-select\" \n        onSubmit={ handleSubmit } >\n        {\n          currentUser\n            ? <>\n              <NavLink to=\"/posts\" activeClassName=\"current\">POSTS</NavLink>\n              <NavLink to=\"/todos\" activeClassName=\"current\">TODOS</NavLink>\n              <button onClick={ handleUserLogout }>LOG OUT, { currentUser.username }</button>\n              </>\n            : <>\n              <select onChange={ handleSelectChange }>{\n                userList.map(user => (\n                  <option key={ user.id } value={ user.id }>\n                    { user.username }\n                  </option>\n                ))\n              }</select>\n              <button onClick={ handleUserLogin }>LOG IN</button>\n            </>\n        }\n      </form>\n    </header>\n  );\n}\n\nexport default Header;","import React from 'react';\n\nimport './UserPosts.css';\n\nconst UserPosts = ({\n  currentUser,\n  userPosts\n}) => {\n  return (\n    <div className=\"user-posts\">\n      <h2>Posts By { currentUser.username }</h2>\n      {userPosts.map(({ id, title, body}) => (\n        <div key={ id } className=\"post\">\n          <h3>{ title }</h3>\n          <p>{ body }</p>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default UserPosts;","// src/components/UserTodos.js\n\nimport React from 'react';\n\nimport './UserTodos.css';\n\nconst UserTodos = ({\n  currentUser,\n  userTodos\n}) => {\n  return (\n    <div className=\"user-todos\">\n      <h2>Todos By { currentUser.username }</h2>\n      {userTodos.map(({ id, title, completed }) => (\n        <div key={ id } className=\"todo\">\n          <h3 style={{\n            textDecoration: completed ? 'line-through' : 'none'\n          }}>{ title }</h3>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default UserTodos;","import axios from 'axios';\n\nconst BASE = 'https://jsonplace-univclone.herokuapp.com'\n\nexport async function getUsers() {\n  try {\n    const { data } = await axios.get(`${ BASE }/users`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getPostsByUser(userId) {\n  try {\n    const { data } = await axios.get(`${ BASE }/users/${ userId }/posts`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getTodosByUser(userId) {\n  try {\n    const { data } = await axios.get(`${ BASE }/users/${ userId }/todos`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}","import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Redirect\n} from 'react-router-dom';\n\nimport {\n  Header,\n  UserPosts,\n  UserTodos\n} from './components';\n\nimport {\n  getUsers,\n  getPostsByUser,\n  getTodosByUser\n} from './api';\n\nconst App = () => {\n  const [userList, setUserList] = useState([]);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [userPosts, setUserPosts] = useState([]);\n  const [userTodos, setUserTodos] = useState([]);\n\n  useEffect(() => {\n    getUsers()\n      .then(users => {\n        setUserList(users)\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  }, []);\n\n  useEffect(() => {\n    if (!currentUser) {\n      setUserPosts([]);\n      setUserTodos([]);\n      return;\n    }\n\n    getPostsByUser(currentUser.id)\n      .then(posts => {\n        setUserPosts(posts);\n      })\n      .catch(error => {\n        console.error(error);\n      });\n\n    getTodosByUser(currentUser.id)\n      .then(todos => {\n        setUserTodos(todos);\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  }, [currentUser]);\n\n  return (\n    <Router>\n      <div id=\"App\">\n        <Header\n          userList={ userList }\n          currentUser={ currentUser }\n          setCurrentUser={ setCurrentUser } />\n        {\n          currentUser\n            ? <>\n              <Switch>\n                <Route path=\"/posts\">\n                  <UserPosts\n                    userPosts={ userPosts }\n                    currentUser={ currentUser } />\n                </Route>\n                <Route path=\"todos\">\n                  <UserTodos\n                    userTodos={ userTodos }\n                    currentUser={ currentUser } />\n                </Route>\n                <Route exact path=\"/\">\n                  <h2 style={{\n                    padding: \".5em\"\n                  }}>Welcome, {currentUser.username}!</h2>\n                </Route>\n                <Redirect to=\"/\" />\n              </Switch>\n            </>\n            : <>\n                <Switch>\n                  <Route exact path=\"/\">\n                    <h2 style={{\n                      padding: \".5em\"\n                    }}>Please log in, above.</h2>\n                  </Route>\n                  <Redirect to=\"/\" />\n                </Switch>\n            </>\n        }\n      </div>\n    </Router>\n  );\n}\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}